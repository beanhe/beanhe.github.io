---
layout: post
title: Linux更新默认网关
category: linux
tags: [__beanhe,linux]
---
    
##### Linux更新默认网关

- 查看路由表：

```
root@ubuntu1604:~# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.0.2.2        0.0.0.0         UG    0      0        0 enp0s3
10.0.2.0        0.0.0.0         255.255.255.0   U     0      0        0 enp0s3
172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0
```

- 结果显示默认网关为10.0.2.2，若要更换网关为10.0.2.1。常用方法有三种：

  - 方法一：`ip`命令更换
  
  ```
  ip route replace default via 10.0.2.1
  ```
  
  - 方法二： `route`命令更换
  
  ```
  route del default gw 10.0.2.2 enp0s3
  route add default gw 10.0.2.1 enp0s3
  ```
  
  - 方法三：直接修改配置文件，由于各种发行版不同，这里以`ubuntu`为例：
  
  ```
  gateway 10.0.2.1
  ```
---
layout: post
title: Mac OS即时刷新DNS缓存
category: mac
tags: [__beanhe,mac,dns]
---

##### 在Mac OS中，mDNSResponder用以提供自动网络配置，包括DNS服务和配置，因此可以通过重启此服务实现DNS缓存的即时刷新，方法如下：
```
#!/bin/bash
launchctl unload -w /System/Library/LaunchDaemons/com.apple.mDNSResponderHelper.plist > /tmp/DNSResponderHelper.log 2>&1
launchctl load -w /System/Library/LaunchDaemons/com.apple.mDNSResponderHelper.plist > /tmp/DNSResponderHelper.log 2>&1
launchctl unload -w /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist > /tmp/DNSResponder.log 2>&1
launchctl load -w /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist > /tmp/DNSResponder.log 2>&1
```
*注*：以上命令需要`sudo`权限
##### 刷新后可以通过`nslookup`或者`ping`命令进行验证，有时候发现就算成功解析也仍然没有在浏览器生效，这是因为浏览器缓存导致使用了缓存中的数据，因此这种情况直接清理一下浏览器缓存即可
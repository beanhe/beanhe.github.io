---
layout: post
title: read命令
category: linux
tags: [__beanhe,linux,shell]
---

### read命令
##### read命令主要功能是通过交互的方式对变量进行赋值
用法: `usage: read [-ers] [-a array] [-d delim] [-i text] [-n nchars] [-N nchars] [-p prompt] [-t timeout] [-u fd] [name ...]`
- `-a`: 后面跟一个数组变量名，输入的内容会以空格为分隔符赋值给数组
- `-d`: 定义read读取的结束标志，即只要遇到定义的这个字符，则会丢弃其后的所有内容进行赋值
- `-n`: 定义输入的字符长度，如`-n 3`则表示当输完第三个字符后即退出交互，此时如果同时定义了`-d`则不管有没有满足`-n`指定的长度都会立即退出交互
- `-N`: 定义输入的字符长度，如`-N 3`则表示当输完第三个字符后即退出交互，与`-n`不同的是此选项会无视`-d`指定的结束符，至少满足指定字符长度才会退出交互
- `-p`: 定义提示字符串
- `-e`: 指定此选项可以开启补全功能
- `-r`: 指定此选项则`\`会被当做普通字符，否则为转义字符
- `-s`: 安静模式，输入密码的时候指定此选项
- `-t`: 指定输入的等待时间，单位`秒`
- `-u`: 后跟文件描述符，表示从文件描述符读入

以下以重定向符模拟标准输入举例说明各个选项的用法：
```
# -d 指定结束符
root@dev-nojymbcg5f4h9:~# cat file1.txt
1 2 3:4 5
root@dev-nojymbcg5f4h9:~# read -a arr1 < file1.txt
root@dev-nojymbcg5f4h9:~# read -a arr2 -d : < file1.txt
root@dev-nojymbcg5f4h9:~# echo ${arr1[@]}
1 2 3:4 5
root@dev-nojymbcg5f4h9:~# echo ${arr2[@]}
1 2 3
```
以下录屏是`-n`与`-N`的区别
![option-n-N](/files/201703/14110946905_read.gif "option-n-N")
输入密码
![read-s](/files/201703/14111110293_read-s.gif "read-s")
---
layout: post
title: MySQL杂记
category: mysql
tags: [mysql,error]
---
> 故障一：

- Error 1:日志[Warning]: IP address '192.168.0.238' could not be resolved: Temporary failure in name resolution

- 解决方案：在/etc/my.cnf的[mysqld]段中加入：

```
skip-host-cache
skip-name-resolve
```

> 故障二：

- 现象：服务器登录正常，外网无法登录，并有如下报错：

```
[10时32分35秒]youdao@localhost: ~ $ mysql -h47.88.21.56 -uadmin -p
Enter password:
ERROR 2003 (HY000): Can't connect to MySQL server on '47.88.21.56' (61)
```
- 可能原因1：服务器本身策略限制（iptables或者selinux等），这种情况直接停用相关服务或者设置针对Mysql的放行策略即可

- 可能原因2：配置了`skip-networking`，此配置会直接导致所有TCP/IP端口不被监听，所以除了本机之外，其他客户端均无法连接，这种情况直接到`my.cnf`配置文件中注释掉`skip-networking`即可

- 可能原因3：配置了不当的`bind-address`(有的服务器版本中为`bindaddress`)，此配置会决定mysql监听的端口，多数版本的mysql中默认为127.0.0.1，所以默认只能本机才能登录，这种情况下直接注释此配置或者将默认的`127.0.0.1`更改为`0.0.0.0`即可

---
layout: post
title: docker笔记之基本命令
category: docker,虚拟化
tags: [__beanhe,docker,虚拟化]
---
    
##### docker笔记——基本命令

- 获取镜像

```
# 从官方获取
docker pull nginx:latest

# 从指定registry获取
docker pull hub.kubiops.com/nginx:latest
```

- 列出本地镜像

```
docker images
```

- 将本地image导出为文件

```
docker save 405a0b586f7e > myImage.tar
```

- 从文件导入为本地镜像

```
docker load < myImage.tar
```

- 使用镜像启动容器

```
# 交互式
docker run -it ubunt:14.04 /bin/bash

# 后台运行
docker run -d ubuntu:14.04 /bin/sh -c "while true;do echo 'Hello world';sleep 1;done"
```

- 启动/停止容器

```
# 启动容器
docker start <containerId>

# 停止容器
docker stop <containerId>
```

- 查看容器列表

```
# 不包含终止的容器
docker ps

# 包含终止的容器
dock ps -a
```

- 删除容器

```
docker rm <containerId>
```

- 获取后台容器的输出信息

```
docker logs <containerIdFromDockerPs>
```

- 提交更新后的容器

```
# -m指定更新说明信息
# -a指定用户信息
# 405a0b586f7e 为容器的ID
# imageName为新镜像的名称
# imageTag为镜像tag
docker commit -m "Commit informat" -a "Author Name" 405a0b586f7e imageName:imageTag
```


- 修改本地镜像tag

```
docker tag 47ee16830e89 newImageName:newImageTag
```

- 移除本地镜像

```
docker rmi 47ee16830e89
```